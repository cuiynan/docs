[TOC]

## 数据库端
### mysql

#### timeout
现象：
```
com.mysql.jdbc.CommunicationsException: The last packet successfully received from the server was58129 seconds ago.The last packet sent successfully to the server was 58129 seconds ago, which is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem. 
```
原因：
由于mysql默认连接闲置为8小时，超过8小时后MYSQL后断开连接，但在程序中的连接池并不知道断开，故会报上述异常信息。
解决方法：
msyql5后（含）使用阿里Druid连接池，加上下面相关配置，进行设置。
```
    timeBetweenEvictionRunsMillis: 60000
    minEvictableIdleTimeMillis: 30000
    validationQuery: SELECT 'x'
    testWhileIdle: true
    testOnBorrow: false
    testOnReturn: false
```
mysql5之前版本在连接处加上autoReconnect=true。